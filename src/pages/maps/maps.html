<!--
  Generated template for the MapsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar padding-horizontal>
    <ion-buttons left>
      <button ion-button icon-only (click)="openMenu('right')">
        <ion-icon name="menu" color="primary"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>
      <img alt="logo" height="40"  src="assets/imgs/logoici.png" ><!--icicm1-->
    </ion-title>

    <ion-buttons end>
      <button ion-button icon-only (click)="openMenu('left')">
        <ion-icon name="funnel" color="primary"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="uk-position-relative">

  <div #map id="map"></div>
  <div class="uk-background-default uk-box-shadow-medium uk-hidden" id="details">
    <ion-list *ngIf="(element | json) != ({} | json)">
      <ion-card>
        <ion-card-content>
          <ion-grid>
            <ion-row>
              <ion-col col-9 no-padding>
                <ion-item class="item-compagny">
                  <ion-thumbnail item-start>
                    <img  *ngIf="element.imageune==null"  src="http://yoomeeonl.webfactional.com/media/pictures/companies/default.jpg" class="uk-responsive-height uk-border-circle" imageViewer>
                    <img  *ngIf="element.imageune!=null"  src="http://yoomeeonl.webfactional.com/media/pictures/companies/{{element.imageune}}" class="uk-responsive-height uk-border-circle" imageViewer>
                  </ion-thumbnail>


                  <div (click)="openDetail(element._id.$id)" tappable>
                    <h3 class="uk-text-truncate uk-margin-remove">{{element.name}}</h3>
                    <div class="uk-h4 uk-margin-remove uk-text-truncate uk-text-muted">{{element.ville}} {{element.quartier}}</div>
                    <ion-badge class="uk-margin-remove-top uk-margin-remove-left uk-margin-remove-right">{{element.maincategorie}}</ion-badge>
                  </div>


                </ion-item>
                <!--  <div class="uk-h4 uk-margin-remove uk-text-truncate uk-text-success uk-text-small"> <ion-icon name="checkmark-circle"></ion-icon> Entreprise validé</div>
                <div class="uk-h4 uk-margin-remove uk-text-truncate uk-text-danger uk-text-small"> <ion-icon name="close"></ion-icon> Validation en cours</div> -->
              </ion-col>
              <ion-col col-3 (click)="openDetail(element._id.$id)" tappable no-padding>
                <rating  [(ngModel)]="element.ratecount"
                         readOnly="true"
                         max="5"
                         emptyStarIconName="star-outline"
                         halfStarIconName="star-half"
                         starIconName="star"
                         nullable="false"
                         (ngModelChange)="onModelChange($event, element._id.$id)"></rating>
                <div class="uk-text-right uk-h4 uk-margin-remove" >{{element.reviewcount}} avis</div>
                <!-- div class="uk-text-right uk-text-success uk-h4 uk-margin-remove uk-text-bold">8h à 18h30</div -->
                <!--  <div class="uk-h4 uk-margin-remove uk-text-truncate uk-text-success uk-text-small"> <ion-icon name="checkmark-circle"></ion-icon> Entreprise validé</div> -->
                <!-- div class="uk-margin-remove uk-text-truncate uk-text-danger uk-text-small uk-text-right"> <ion-icon name="close"></ion-icon> Validation en cours</div -->
              </ion-col>
            </ion-row>
            <ion-col col class="uk-padding-remove-vertical uk-margin-small-top">
              <hr no-margin="">
            </ion-col>
            <ion-row no-padding no-margin>
              <ion-col col-12 class="uk-position-relative" no-padding>
                <div class="uk-text-center uk-margin-small-top">
                  <button ion-button clear small icon-only block (tap)="closedModal()">Fermé</button>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>
    </ion-list>
  </div>



</ion-content>
